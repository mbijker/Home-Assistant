#####################################################
# @author       :   Mark Bijker
# @package      :	  speech   
# @description  :   All speech scripts
######################################################

tts:
  - platform: amazon_polly
    aws_access_key_id: !secret polly_access_key_id
    aws_secret_access_key: !secret polly_adccess_key
#    profile_name: HomeAssistant
#    region_name: 'nl'
    voice: Ruben
    text_type: ssml

######################################################
## Boolean
######################################################
input_boolean:

######################################################
## Scripts
######################################################
script:
  speech_main_logic:
    sequence:
      - condition: template
        value_template: '{{ states.media_player.mpd.state != "playing" }}' 
      - service: tts.amazon_polly_say
        entity_id: media_player.gstreamer
        data_template:
          message: "<speak>{{ message }}</speak>"